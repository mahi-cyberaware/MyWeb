{% extends "base.html" %}
{% block title %}{{ news.title }}{% endblock %}
{% block content %}

<article class="news-detail">
    <h1>{{ news.title }}</h1>
    <div class="post-meta">{{ news.date_posted.strftime('%d/%m/%Y') }}</div>

    {% if news.image_url %}
        <img src="{{ news.image_url }}" alt="{{ news.title }}" class="featured-image">
    {% endif %}

    {% if news.excerpt %}
        <p class="excerpt">{{ news.excerpt }}</p>
    {% endif %}

    <div class="content">
        {{ news.content|markdown|safe }}
    </div>

    <a href="{{ url_for('news_list') }}" class="back-btn">← Back to News</a>
</article>

{% if related %}
<section class="related-posts">
    <h2>Related News</h2>
    <div class="news-grid">
        {% for item in related %}
        <article class="news-card">
            {% if item.image_url %}
                <img src="{{ item.image_url }}" alt="{{ item.title }}" class="card-image">
            {% endif %}
            <div class="card-content">
                <h2><a href="{{ url_for('news_detail', slug=item.slug) }}">{{ item.title }}</a></h2>
                <div class="post-meta">{{ item.date_posted.strftime('%d/%m/%Y') }}</div>
                <p class="post-excerpt">{{ item.excerpt or item.content[:150] }}...</p>
                <a href="{{ url_for('news_detail', slug=item.slug) }}" class="read-more">Read More →</a>
            </div>
        </article>
        {% endfor %}
    </div>
</section>
{% endif %}

{% endblock %}
