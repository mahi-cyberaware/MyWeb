{% extends "base.html" %}
{% block title %}Home{% endblock %}
{% block content %}

<!-- Section 1: Hero with background image -->
<section class="hero-section" style="background-image: url('{{ url_for('static', filename='assets/homehero.png') }}');">
    <div class="hero-overlay"></div>
    <div class="hero-content">
        <h1 class="glitch" data-text="Mahi Cyberaware">Mahi Cyberaware</h1>
        <p class="hero-tagline">Strengthening Digital Security Through Ethical Innovation</p>
        <p class="hero-description">We provide cutting-edge cybersecurity tools, research, and training to help you stay ahead of threats. Join our community of ethical hackers and security professionals.</p>
        <div class="hero-buttons">
            {% if current_user.is_authenticated %}
                <a href="{{ url_for('tools') }}" class="btn primary">Explore Tools</a>
                <a href="{{ url_for('blog') }}" class="btn secondary">Read Blog</a>
            {% else %}
                <a href="{{ url_for('register') }}" class="btn primary">Get Started</a>
                <a href="{{ url_for('login') }}" class="btn secondary">Login</a>
            {% endif %}
        </div>
    </div>
</section>

<!-- Stats Section -->
<div class="stats-container">
    <div class="stat-item">
        <span class="stat-number">{{ tool_count }}</span>
        <span class="stat-label">Security Tools</span>
    </div>
    <div class="stat-item">
        <span class="stat-number">{{ file_count }}</span>
        <span class="stat-label">Files</span>
    </div>
    <div class="stat-item">
        <span class="stat-number">{{ blog_count }}</span>
        <span class="stat-label">Blog Posts</span>
    </div>
</div>

<!-- Section 2: Latest News / Updates -->
<section class="news-section">
    <h2 class="section-title">Explore Our Latest Insights</h2>
    <div class="section-underline"></div>
    <div class="card-grid">
        {% for news in latest_news %}
        <div class="news-card">
            {% if news.image_url %}
                <img src="{{ news.image_url }}" alt="{{ news.title }}" class="card-image">
            {% endif %}
            <h3>{{ news.title }}</h3>
            <p>{{ news.excerpt or news.content[:100] }}...</p>
            <a href="{{ url_for('blog_post', slug=news.id) }}" class="btn small">Read More →</a>
        </div>
        {% else %}
        <p>No news updates yet.</p>
        {% endfor %}
    </div>

    <!-- Horizontal service slider -->
    <div class="service-slider">
        <a href="{{ url_for('tools') }}?category=Penetration%20Testing" class="service-card">Penetration Testing</a>
        <a href="{{ url_for('tools') }}?category=Vulnerability%20Assessment" class="service-card">Vulnerability Assessment</a>
        <a href="{{ url_for('tools') }}?category=Red%20Team%20Operations" class="service-card">Red Team Operations</a>
        <a href="{{ url_for('tools') }}?category=Security%20Awareness%20Training" class="service-card">Security Awareness Training</a>
        <a href="{{ url_for('tools') }}?category=Digital%20Forensics" class="service-card">Digital Forensics</a>
        <a href="{{ url_for('tools') }}?category=Android%20Controls" class="service-card">Android Controls</a>
        <a href="{{ url_for('tools') }}?category=Social%20Media" class="service-card">Social Media</a>
        <a href="{{ url_for('tools') }}?category=Other" class="service-card">Others</a>
    </div>
</section>

<!-- Section 3: Latest Blogs / Tools -->
<section class="blog-tools-section">
    <h2 class="section-title">Explore Our Latest Insights</h2>
    <div class="section-underline"></div>
    <div class="card-grid">
        {% for post in latest_posts %}
        <div class="blog-card">
            {% if post.featured_image %}
                <img src="{{ post.featured_image }}" alt="{{ post.title }}" class="card-image">
            {% endif %}
            <h3>{{ post.title }}</h3>
            <p>{{ post.excerpt or post.content[:100] }}...</p>
            <a href="{{ url_for('blog_post', slug=post.slug) }}" class="btn small">Read More →</a>
        </div>
        {% else %}
        <p>No blog posts yet.</p>
        {% endfor %}
    </div>
</section>

<!-- Section 4: Contact -->
<section class="contact-section">
    <div class="contact-left">
        <h2>Let's Secure Your Digital Infrastructure</h2>
        <p>Partner with us to identify vulnerabilities, strengthen defenses, and build a resilient security posture. Our experts provide tailored solutions for your organization.</p>
        <ul class="highlights">
            <li><i class="fas fa-shield-alt"></i> Expert-led penetration testing</li>
            <li><i class="fas fa-search"></i> Comprehensive vulnerability assessments</li>
            <li><i class="fas fa-lock"></i> Custom security training</li>
        </ul>
    </div>
    <div class="contact-right">
        <form method="POST" action="{{ url_for('contact') }}" class="contact-form">
            {{ contact_form.hidden_tag() }}
            <div class="form-group">
                {{ contact_form.name.label }}
                {{ contact_form.name(class="form-control", placeholder="Your name") }}
            </div>
            <div class="form-group">
                {{ contact_form.email.label }}
                {{ contact_form.email(class="form-control", placeholder="Your email") }}
            </div>
            <div class="form-group">
                {{ contact_form.message.label }}
                {{ contact_form.message(class="form-control", rows=4, placeholder="Your message") }}
            </div>
            <div class="form-group">
                {{ contact_form.captcha.label }}
                {{ contact_form.captcha(class="form-control", placeholder="Enter result") }}
            </div>
            <button type="submit" class="btn primary">Send Message</button>
        </form>
    </div>
</section>

{% endblock %}
