{% extends "base.html" %}
{% block title %}Admin Panel{% endblock %}
{% block content %}
<h1>Admin Panel</h1>

<div class="admin-actions">
    <a href="{{ url_for('add_tool') }}" class="btn">+ Add Tool</a>
    <a href="{{ url_for('add_blog') }}" class="btn">+ Add Blog Post</a>
    <a href="{{ url_for('upload_file') }}" class="btn">Upload Files</a>
</div>

<h2>Recent Tools</h2>
{% if tools %}
    <ul>
    {% for tool in tools %}
        <li>
            {{ tool.title }} ({{ tool.date_posted.strftime('%d/%m/%Y') }})
            <a href="{{ url_for('edit_tool', id=tool.id) }}">Edit</a>
            <a href="{{ url_for('delete_tool', id=tool.id) }}" onclick="return confirm('Delete this tool?')">Delete</a>
        </li>
    {% endfor %}
    </ul>
{% else %}
    <p>No tools yet.</p>
{% endif %}

<h2>Recent Blog Posts</h2>
{% if posts %}
    <ul>
    {% for post in posts %}
        <li>
            {{ post.title }} ({{ post.date_posted.strftime('%d/%m/%Y') }})
            <a href="{{ url_for('edit_blog', id=post.id) }}">Edit</a>
            <a href="{{ url_for('delete_blog', id=post.id) }}" onclick="return confirm('Delete this post?')">Delete</a>
        </li>
    {% endfor %}
    </ul>
{% else %}
    <p>No blog posts yet.</p>
{% endif %}

<h2>Recent Uploaded Files</h2>
{% if files %}
    <ul>
    {% for file in files %}
        <li>
            {{ file.filename }} ({{ (file.size/1024)|round }} KB)
            <a href="{{ url_for('delete_file', id=file.id) }}" onclick="return confirm('Delete this file?')">Delete</a>
        </li>
    {% endfor %}
    </ul>
{% else %}
    <p>No files uploaded yet.</p>
{% endif %}
{% endblock %}
